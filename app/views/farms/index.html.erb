<div class="blog-container">
  <section class="blog-header">
    <div class="inner-header-container">
      <h1 class="blog-header-header">Our Partner Farms</h1>
      <h4 class="text-white blog-header-subheader">Where Your Food Waste Becomes Soil</h4>
      <p class="blog-paragraph-content">
        Every week, Alfred collects organic waste from households across Cape Town and delivers it to our partner farms and composting sites.
        These organizations transform food scraps into rich, healthy soil that nourishes gardens and communities.
      </p>
    </div>
    <div class="wave-container">
      <svg
        class="waves"
        viewBox="0 24 150 28"
        preserveAspectRatio="none"
        shape-rendering="auto"
      >
        <defs>
          <path
            id="gentle-wave"
            d="M-160 44c30 0 58-18 88-18s58 18 88 18 58-18 88-18 58 18 88 18 58-18 88-18 58 18 88 18v44h-352z"
          ></path>
        </defs>
        <g class="parallax">
          <use
            href="#gentle-wave"
            x="0"
            y="0"
            fill="rgba(255,255,255)"
          ></use>
        </g>
      </svg>
    </div>
  </section>

  <section class="blog-text-section">
    <h1>Meet Our Partners<span class="yellow-txt">.</span></h1>
    <div class="row mt-5">
      <% @farms.each do |farm| %>
        <div class="col-md-6 mb-4">
          <div class="card h-100">
            <% if farm.photo.attached? %>
              <%= image_tag farm.photo, class: 'card-img-top', alt: farm.name %>
            <% end %>
            <div class="card-body">
              <h3 class="card-title"><%= link_to farm.name, farm_path(farm), class: 'text-decoration-none' %></h3>
              <p class="text-muted"><%= farm.suburb %></p>
              <div class="mt-3">
                <p class="mb-2">
                  <strong>Total Weight Collected:</strong>
                  <%= number_with_precision(farm.total_weight_kg || 0, precision: 1) %> kg
                </p>
                <p class="mb-2">
                  <strong>Total Drop-offs:</strong>
                  <%= farm.total_dropoffs_count || 0 %>
                </p>
              </div>
              <%= link_to 'Learn More', farm_path(farm), class: 'btn btn-outline-success mt-3' %>
            </div>
          </div>
        </div>
      <% end %>
    </div>
  </section>

  <div class="yellow-block">
    <h1>Ready to join the food waste revolution?</h1>
    <div class="mt-5 mb-3">
      <%= link_to 'Sign Up', root_path(anchor: "pricing"), class: 'btn-gooi' %>
    </div>
  </div>
</div>
